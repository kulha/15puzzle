(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,s){"use strict";s.r(t);var a=s(6),n=s(1),o=s(2),r=s(4),i=s(3),l=s(5),u=s(0),c=s.n(u),h=s(8),p=s.n(h),m=(s(16),function(e){function t(e){var s;return Object(n.a)(this,t),(s=Object(r.a)(this,Object(i.a)(t).call(this,e))).boardRef=c.a.createRef(),s.state={size:4},s}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"game"},c.a.createElement("div",null,c.a.createElement("input",{type:"text",value:this.state.size,onChange:function(t){return e.updateInputValue(t)}})),c.a.createElement("br",null),c.a.createElement("button",{onClick:function(){return e.shuffle()}},"Shuffle"),c.a.createElement("div",{className:"game-board"},c.a.createElement(v,{ref:this.boardRef,size:this.state.size})))}},{key:"shuffle",value:function(){this.boardRef.current.fillData(this.state.size)}},{key:"updateInputValue",value:function(e){var t=e.target.value;if(""===t||isNaN(t))return!0;this.boardRef.current.fillData(t),this.setState({size:parseInt(t,10)})}}]),t}(c.a.Component)),v=function(e){function t(e){var s;return Object(n.a)(this,t),(s=Object(r.a)(this,Object(i.a)(t).call(this,e))).state=s.fillData(s.props.size),s}return Object(l.a)(t,e),Object(o.a)(t,[{key:"fillData",value:function(e){var t=this;console.log("filling data of size "+e);var s=setInterval(function(){return t.setState({secondsElapsed:t.secondsElapsed()})},1e3),a=Array(e*e).fill(null);(a=a.map(function(e,t){return t+1})).sort(function(){return.5-Math.random()});var n=a.indexOf(e*e);a[n]=null;var o={size:e,squares:a,empty:n,moves:[],startTime:null,secondsElapsed:0,timerRef:s};return this.setState(o),o}},{key:"calculateSolution",value:function(e){for(var t=0,s=0;s<e.length;s++){t+=s+1===(e[s]?e[s]:0)?1:0}var a=Math.floor(100*t/(this.state.size*this.state.size-1));return{percentSolved:a,isSolved:100===a}}},{key:"secondsElapsed",value:function(){var e=this.state.startTime;if(!e)return 0;var t=((new Date).getTime()-e.getTime())/1e3;return Math.floor(t)}},{key:"render",value:function(){var e=this;console.log("Start Rendering Board...");var t=this.calculateSolution(this.state.squares.slice()),s=t.percentSolved,n=t.isSolved;n&&clearInterval(this.state.timerRef);var o=Object(a.a)(Array(this.props.size)).map(function(t,s){return c.a.createElement(f,{elementsArray:e.state.squares.slice(s*e.props.size,(s+1)*e.props.size),elementCount:e.props.size,key:s,onClick:function(t){return e.moveSquareOnClick(t)},onKeyDown:function(t){return e.moveSquareOnKeyPress(t)}})}),r=Math.floor(this.state.secondsElapsed/60),i=this.state.secondsElapsed-60*r;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,o),c.a.createElement("div",null,this.state.moves.length," moves"),c.a.createElement("div",null,c.a.createElement("button",{disabled:0===this.state.moves.length,onClick:function(){return e.undo()}},"Undo")),c.a.createElement("div",null,s,"% solved"),c.a.createElement("div",null,r," min ",i," sec elapsed"),c.a.createElement("div",null,n?"You WON!!!":""))}},{key:"undo",value:function(){var e=this.state.moves.slice(),t=e[e.length-1];console.log("lastMove",t);var s=0;switch(t){case 37:s=39;break;case 38:s=40;break;case 39:s=37;break;case 40:s=38}this.moveSquareOnKeyPress(s,!0)}},{key:"moveSquareOnKeyPress",value:function(e,t){var s=this.state.squares.slice(),a=this.state.moves.slice();console.log(a,this.state.moves);var n=this.state.empty,o=!1;switch(console.log(n),e){case 37:if(console.log("Left key pressed"),n%this.state.size<this.state.size-1){console.log("move allowed");var r=s[n+1];s[n+1]=null,s[n]=r,n++,o=!0}else console.log("move not allowed");break;case 38:if(console.log("Up key pressed"),Math.floor(n/this.state.size)<this.state.size-1){console.log("move allowed");var i=s[n+this.state.size];s[n+this.state.size]=null,s[n]=i,n+=this.state.size,o=!0}else console.log("move not allowed");break;case 39:if(console.log("Right key pressed"),n%this.state.size>0){console.log("move allowed");var l=s[n-1];s[n-1]=null,s[n]=l,n--,o=!0}else console.log("move not allowed");break;case 40:if(console.log("Down key pressed"),Math.floor(n/this.state.size)>0){console.log("move allowed");var u=s[n-this.state.size];s[n-this.state.size]=null,s[n]=u,n-=this.state.size,o=!0}else console.log("move not allowed");break;default:return}o&&(t?a.pop():e>=37&&e<=40&&(a.push(e),this.state.startTime||this.setState({startTime:new Date})),this.setState({empty:n,squares:s,moves:a}))}},{key:"moveSquareOnClick",value:function(e){e=this.state.squares.indexOf(e);var t=this.state.moves.slice();console.log("Now empty at "+this.state.empty),console.log("clicked "+e);var s=!1,a=0;if(Math.floor(e/this.props.size)===Math.floor(this.state.empty/this.props.size)?(e+1===this.state.empty?a=39:e-1===this.state.empty&&(a=37),s=!0):e%this.props.size===this.state.empty%this.props.size&&(e+this.props.size===this.state.empty?a=40:e-this.props.size===this.state.empty&&(a=38),s=!0),s){console.log("Moving "+e+" to "+this.state.empty);var n=this.state.empty,o=this.state.squares,r=o[e];o[e]=null,o[n]=r,a>=37&&a<=40&&t.push(a),this.setState({empty:e,squares:o,moves:t}),this.state.startTime||this.setState({startTime:new Date})}}}]),t}(c.a.Component),f=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"renderSquare",value:function(e){return c.a.createElement(d,{num:this.props.elementsArray[e],onClick:this.props.onClick,key:e,onKeyDown:this.props.onKeyDown})}},{key:"render",value:function(){var e=this,t=Object(a.a)(Array(this.props.elementCount)).map(function(t,s){return e.renderSquare(s)});return c.a.createElement("div",{className:"board-row"},t)}}]),t}(c.a.Component),d=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("button",{ref:function(t){e.nameInput=t},className:"square",onClick:function(){return e.props.onClick(e.props.num)},onKeyDown:function(t){return e.props.onKeyDown(t.keyCode)}},this.props.num)}},{key:"handleKeyDown",value:function(e){var t=e.keyCode;console.log(t)}},{key:"componentDidMount",value:function(){this.props.num||this.nameInput.focus()}}]),t}(c.a.Component);p.a.render(c.a.createElement(m,null),document.getElementById("root"))},16:function(e,t,s){},9:function(e,t,s){e.exports=s(10)}},[[9,1,2]]]);
//# sourceMappingURL=main.eff932e0.chunk.js.map